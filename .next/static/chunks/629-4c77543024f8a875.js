"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629],{1187:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(4393);let o=e=>{let{aspectRatio:t}=e;return(0,a.jsx)("div",{className:"w-full ".concat(t," rounded-lg"),style:{background:"linear-gradient(90deg, var(--skeleton-color) 25%, var(--skeleton-highlight) 50%, var(--skeleton-color) 75%)",backgroundSize:"200% 100%",animation:"shine 1.5s infinite"},children:(0,a.jsx)("style",{children:"\n      @keyframes shine {\n        0% { background-position: -200% 0; }\n        100% { background-position: 200% 0; }\n      }\n      \n      /* 亮色模式变量 */\n      :root {\n        --skeleton-color: #f0f0f0;\n        --skeleton-highlight: #e0e0e0;\n      }\n      \n      /* 暗色模式变量 */\n      @media (prefers-color-scheme: dark) {\n        :root {\n          --skeleton-color: #2d2d2d;\n          --skeleton-highlight: #3d3d3d;\n        }\n      }\n      \n      .dark {\n        --skeleton-color: #2d2d2d;\n        --skeleton-highlight: #3d3d3d;\n      }\n    "})})}},5629:function(e,t,r){r.d(t,{Z:function(){return v}});var a=r(4393),o=r(4727),s=r(4187),n=r(5324),l=r(9564),i=r(7944),c=r(1698),d=r(4908),u=r(7467);let h=()=>{let e="ontouchstart"in window||navigator.maxTouchPoints>0,t=navigator.userAgent.toLowerCase(),r=["mobile","android","iphone","ipad","tablet"].some(e=>t.includes(e)),a=window.innerWidth<768;return e&&(r||a)},g=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;var p=r(1802);let x=e=>{let{onLongPress:t,onClick:r,longPressDelay:a=500,moveThreshold:o=10}=e,s=(0,d.useRef)(!1),n=(0,d.useRef)(null),l=(0,d.useRef)(null),i=(0,d.useRef)(!1),c=(0,d.useCallback)(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),u=(0,d.useCallback)((e,r)=>{i.current||(i.current=!0,s.current=!1,l.current={x:e,y:r},n.current=setTimeout(()=>{i.current&&(s.current=!0,navigator.vibrate&&navigator.vibrate(50),t())},a))},[t,a]),h=(0,d.useCallback)((e,t)=>{l.current&&i.current&&Math.sqrt(Math.pow(e-l.current.x,2)+Math.pow(t-l.current.y,2))>o&&(c(),i.current=!1)},[c,o]),g=(0,d.useCallback)(()=>{c(),!s.current&&r&&i.current&&r(),s.current=!1,l.current=null,i.current=!1},[c,r]),p=(0,d.useCallback)(e=>{let t=e.touches[0];u(t.clientX,t.clientY)},[u]),x=(0,d.useCallback)(e=>{let t=e.touches[0];h(t.clientX,t.clientY)},[h]),m=(0,d.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),g()},[g]),b=(0,d.useCallback)(e=>{u(e.clientX,e.clientY)},[u]);return{onTouchStart:p,onTouchMove:x,onTouchEnd:m,onMouseDown:b,onMouseMove:(0,d.useCallback)(e=>{h(e.clientX,e.clientY)},[h]),onMouseUp:(0,d.useCallback)(()=>{g()},[g]),onMouseLeave:(0,d.useCallback)(()=>{c(),i.current=!1},[c])}};var m=r(1187),b=r(477),y=e=>{let{isOpen:t,onClose:r,title:o,actions:s,poster:n,sources:l,isAggregate:c,sourceName:u,currentEpisode:h,totalEpisodes:g}=e,[p,x]=(0,d.useState)(!1),[m,y]=(0,d.useState)(!1);if((0,d.useEffect)(()=>{let e,r;return t?(x(!0),e=requestAnimationFrame(()=>{e=requestAnimationFrame(()=>{y(!0)})})):(y(!1),r=setTimeout(()=>{x(!1)},200)),()=>{e&&cancelAnimationFrame(e),r&&clearTimeout(r)}},[t]),(0,d.useEffect)(()=>{if(p){let e=window.scrollY,t=window.scrollX,r=document.body,a=document.documentElement,o=window.innerWidth-a.clientWidth,s={position:r.style.position,top:r.style.top,left:r.style.left,right:r.style.right,width:r.style.width,paddingRight:r.style.paddingRight,overflow:r.style.overflow};return r.style.position="fixed",r.style.top="-".concat(e,"px"),r.style.left="-".concat(t,"px"),r.style.right="0",r.style.width="100%",r.style.overflow="hidden",r.style.paddingRight="".concat(o,"px"),()=>{r.style.position=s.position,r.style.top=s.top,r.style.left=s.left,r.style.right=s.right,r.style.width=s.width,r.style.paddingRight=s.paddingRight,r.style.overflow=s.overflow,requestAnimationFrame(()=>{window.scrollTo(t,e)})}}},[p]),(0,d.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};if(p)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[p,r]),!p)return null;let f=e=>{switch(e){case"danger":return"text-red-600 dark:text-red-400";case"primary":return"text-green-600 dark:text-green-400";default:return"text-gray-700 dark:text-gray-300"}},v=e=>{switch(e){case"danger":return"hover:bg-red-50/50 dark:hover:bg-red-900/10";case"primary":return"hover:bg-green-50/50 dark:hover:bg-green-900/10";default:return"hover:bg-gray-50/50 dark:hover:bg-gray-800/20"}};return(0,a.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-end justify-center",onTouchMove:e=>{e.preventDefault(),e.stopPropagation()},style:{touchAction:"none"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-200 ease-out ".concat(m?"opacity-100":"opacity-0"),onClick:r,onTouchMove:e=>{e.preventDefault()},onWheel:e=>{e.preventDefault()},style:{backdropFilter:"blur(4px)",willChange:"opacity",touchAction:"none"}}),(0,a.jsxs)("div",{className:"relative w-full max-w-lg mx-4 mb-4 bg-white dark:bg-gray-900 rounded-2xl shadow-2xl transition-all duration-200 ease-out",onTouchMove:e=>{e.stopPropagation()},style:{marginBottom:"calc(1rem + env(safe-area-inset-bottom))",willChange:"transform, opacity",backfaceVisibility:"hidden",transform:m?"translateY(0) translateZ(0)":"translateY(100%) translateZ(0)",opacity:m?1:0,touchAction:"auto"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n&&(0,a.jsx)("div",{className:"relative w-12 h-16 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:(0,a.jsx)(i.default,{src:n,alt:o,fill:!0,className:"object-cover",loading:"lazy"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:o}),u&&(0,a.jsx)("span",{className:"flex-shrink-0 text-xs px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800",children:u})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"选择操作"})]})]}),(0,a.jsx)("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150",children:(0,a.jsx)(b.Z,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),(0,a.jsx)("div",{className:"px-4 py-2",children:s.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>{e.onClick(),r()},disabled:e.disabled,className:"\n                  w-full flex items-center gap-4 py-4 px-2 transition-all duration-150 ease-out\n                  ".concat(e.disabled?"opacity-50 cursor-not-allowed":"".concat(v(e.color)," active:scale-[0.98]"),"\n                "),style:{willChange:"transform, background-color"},children:[(0,a.jsx)("div",{className:"w-6 h-6 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"transition-colors duration-150 ".concat(e.disabled?"text-gray-400 dark:text-gray-600":f(e.color)),children:e.icon})}),(0,a.jsx)("span",{className:"\n                  text-left font-medium text-base flex-1\n                  ".concat(e.disabled?"text-gray-400 dark:text-gray-600":"text-gray-900 dark:text-gray-100","\n                "),children:e.label}),"play"===e.id&&h&&g&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[h,"/",g]})]}),t<s.length-1&&(0,a.jsx)("div",{className:"border-b border-gray-100 dark:border-gray-800 ml-10"})]},e.id))}),c&&l&&l.length>0&&(0,a.jsxs)("div",{className:"px-4 py-3 border-t border-gray-100 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:"可用播放源"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["共 ",l.length," 个播放源"]})]}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(()=>{let e=["爱奇艺","腾讯视频","优酷","芒果TV","哔哩哔哩","Netflix","Disney+"];return l.sort((t,r)=>{let a=e.indexOf(t),o=e.indexOf(r);return -1!==a&&-1!==o?a-o:-1!==a?-1:-1!==o?1:t.localeCompare(r)}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 py-2 px-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50/30 dark:bg-gray-800/30",children:[(0,a.jsx)("div",{className:"w-1 h-1 bg-gray-400 dark:bg-gray-500 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e})]},t))})()})})]})]})]})};let f=(0,d.forwardRef)(function(e,t){let{id:r,title:b="",query:f="",poster:v="",episodes:w,source:k,source_name:j,source_names:N,progress:C=0,year:S,from:D,currentEpisode:P,douban_id:E,onDelete:R,rate:z,type:T="",isBangumi:Z=!1,isAggregate:M=!1}=e,L=(0,c.useRouter)(),[A,Y]=(0,d.useState)(!1),[W,H]=(0,d.useState)(!1),[_,B]=(0,d.useState)(!1),[U,q]=(0,d.useState)(!1),[F,O]=(0,d.useState)(!1),[I,X]=(0,d.useState)(null),[V,J]=(0,d.useState)(w),[G,K]=(0,d.useState)(N);(0,d.useEffect)(()=>{J(w)},[w]),(0,d.useEffect)(()=>{K(N)},[N]),(0,d.useEffect)(()=>{B(h()),q(g())},[]),(0,d.useImperativeHandle)(t,()=>({setEpisodes:e=>J(e),setSourceNames:e=>K(e)}));let Q=f||"",$=M?V&&1===V?"movie":"tv":T;(0,d.useEffect)(()=>{if("douban"===D||"search"===D||!k||!r)return;(async()=>{try{let e=await (0,u.at)(k,r);Y(e)}catch(e){throw Error("检查收藏状态失败")}})();let e=(0,u.sO)(k,r);return(0,u.rq)("favoritesUpdated",t=>{Y(!!t[e])})},[D,k,r]);let ee=(0,d.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),"douban"!==D&&k&&r)try{("search"===D?I:A)?(await (0,u.r7)(k,r),"search"===D?X(!1):Y(!1)):(await (0,u.qn)(k,r,{title:b,source_name:j||"",year:S||"",cover:v,total_episodes:null!=V?V:1,save_time:Date.now()}),"search"===D?X(!0):Y(!0))}catch(e){throw Error("切换收藏状态失败")}},[D,k,r,b,j,S,v,V,A,I]),et=(0,d.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),"playrecord"===D&&k&&r)try{await (0,u.Ji)(k,r),null==R||R()}catch(e){throw Error("删除播放记录失败")}},[D,k,r,R]),er=(0,d.useCallback)(()=>{"douban"!==D&&(!M||k||r)?k&&r&&L.push("/play?source=".concat(k,"&id=").concat(r,"&title=").concat(encodeURIComponent(b)).concat(S?"&year=".concat(S):"").concat(M?"&prefer=true":"").concat(Q?"&stitle=".concat(encodeURIComponent(Q.trim())):"").concat($?"&stype=".concat($):"")):L.push("/play?title=".concat(encodeURIComponent(b.trim())).concat(S?"&year=".concat(S):"").concat($?"&stype=".concat($):"").concat(M?"&prefer=true":"").concat(Q?"&stitle=".concat(encodeURIComponent(Q.trim())):""))},[D,k,r,L,b,S,M,Q,$]),ea=(0,d.useCallback)(async()=>{if("search"===D&&!M&&k&&r&&null===I)try{let e=await (0,u.at)(k,r);X(e)}catch(e){X(!1)}},[D,M,k,r,I]),eo=x({onLongPress:(0,d.useCallback)(()=>{_&&!F&&(O(!0),"search"===D&&!M&&k&&r&&null===I&&ea())},[_,F,D,M,k,r,I,ea]),onClick:er,longPressDelay:500}),es=(0,d.useMemo)(()=>{let e={playrecord:{showSourceName:!0,showProgress:!0,showPlayButton:!0,showHeart:!0,showCheckCircle:!0,showDoubanLink:!1,showRating:!1,showYear:!1},favorite:{showSourceName:!0,showProgress:!1,showPlayButton:!0,showHeart:!0,showCheckCircle:!1,showDoubanLink:!1,showRating:!1,showYear:!1},search:{showSourceName:!0,showProgress:!1,showPlayButton:!0,showHeart:!0,showCheckCircle:!1,showDoubanLink:!1,showRating:!1,showYear:!0},douban:{showSourceName:!1,showProgress:!1,showPlayButton:!0,showHeart:!1,showCheckCircle:!1,showDoubanLink:!0,showRating:!!z,showYear:!1}};return e[D]||e.search},[D,M,E,z]),en=(0,d.useMemo)(()=>{let e=[];if(es.showPlayButton&&e.push({id:"play",label:"播放",icon:(0,a.jsx)(o.Z,{size:20}),onClick:er,color:"primary"}),es.showHeart&&"douban"!==D&&k&&r){let t="search"===D?I:A;"search"===D?null!==I?e.push({id:"favorite",label:t?"取消收藏":"添加收藏",icon:(0,a.jsx)(s.Z,{size:20}),onClick:()=>{ee({preventDefault:()=>{},stopPropagation:()=>{}})},color:t?"danger":"default"}):e.push({id:"favorite-loading",label:"收藏加载中...",icon:(0,a.jsx)(s.Z,{size:20}),onClick:()=>{},disabled:!0}):e.push({id:"favorite",label:t?"取消收藏":"添加收藏",icon:(0,a.jsx)(s.Z,{size:20}),onClick:()=>{ee({preventDefault:()=>{},stopPropagation:()=>{}})},color:t?"danger":"default"})}return es.showCheckCircle&&"playrecord"===D&&k&&r&&e.push({id:"delete",label:"删除记录",icon:(0,a.jsx)(n.Z,{size:20}),onClick:()=>{et({preventDefault:()=>{},stopPropagation:()=>{}})},color:"danger"}),es.showDoubanLink&&E&&0!==E&&e.push({id:"douban",label:Z?"Bangumi 详情":"豆瓣详情",icon:(0,a.jsx)(l.Z,{size:20}),onClick:()=>{let e=Z?"https://bgm.tv/subject/".concat(E.toString()):"https://movie.douban.com/subject/".concat(E.toString());window.open(e,"_blank","noopener,noreferrer")},color:"default"}),e},[es,D,k,r,A,I,E,Z,M,G,er,ee,et]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"group relative w-full rounded-lg bg-transparent cursor-pointer transition-all duration-300 ease-in-out ".concat(U?"":"hover:scale-[1.05] hover:z-[500]"),onClick:_?void 0:er,..._?eo:{},style:{WebkitUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",touchAction:"manipulation",pointerEvents:"auto"},onContextMenu:e=>(e.preventDefault(),e.stopPropagation(),!1),onDragStart:e=>(e.preventDefault(),!1),children:[(0,a.jsxs)("div",{className:"relative aspect-[2/3] overflow-hidden rounded-lg",children:[!W&&(0,a.jsx)(m.Z,{aspectRatio:"aspect-[2/3]"}),(0,a.jsx)(i.default,{src:(0,p.a8)(v),alt:b,fill:!0,className:"object-cover",referrerPolicy:"no-referrer",loading:"lazy",onLoadingComplete:()=>H(!0),onError:e=>{let t=e.target;t.dataset.retried||(t.dataset.retried="true",setTimeout(()=>{t.src=(0,p.a8)(v)},2e3))},style:{WebkitUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none",pointerEvents:"none"},onContextMenu:e=>(e.preventDefault(),!1),onDragStart:e=>(e.preventDefault(),!1)}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent transition-opacity duration-300 ease-in-out ".concat(U?"opacity-0":"opacity-0 group-hover:opacity-100")}),es.showPlayButton&&!U&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-300 ease-in-out delay-75 group-hover:opacity-100 group-hover:scale-100",children:(0,a.jsx)(o.Z,{size:50,strokeWidth:.8,className:"text-white fill-transparent transition-all duration-300 ease-out hover:fill-green-500 hover:scale-[1.1]"})}),(es.showHeart||es.showCheckCircle)&&!U&&(0,a.jsxs)("div",{className:"absolute bottom-3 right-3 flex gap-3 opacity-0 translate-y-2 transition-all duration-300 ease-in-out group-hover:opacity-100 group-hover:translate-y-0",children:[es.showCheckCircle&&(0,a.jsx)(n.Z,{onClick:et,size:20,className:"text-white transition-all duration-300 ease-out hover:stroke-red-500 hover:scale-[1.1]"}),es.showHeart&&(0,a.jsx)(s.Z,{onClick:ee,size:20,className:"transition-all duration-300 ease-out ".concat(A?"fill-red-600 stroke-red-600":"fill-transparent stroke-white hover:stroke-red-400"," hover:scale-[1.1]")})]}),es.showYear&&S&&"unknown"!==S&&""!==S.trim()&&(0,a.jsx)("div",{className:"absolute top-2 bg-black/50 text-white text-xs font-medium px-2 py-1 rounded backdrop-blur-sm shadow-sm transition-all duration-300 ease-out group-hover:opacity-90 ".concat(es.showDoubanLink&&E&&0!==E?"left-2 group-hover:left-11":"left-2"),children:S}),es.showRating&&z&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-pink-500 text-white text-xs font-bold w-7 h-7 rounded-full flex items-center justify-center shadow-md transition-all duration-300 ease-out group-hover:scale-110",children:z}),V&&V>1&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs font-semibold px-2 py-1 rounded-md shadow-md transition-all duration-300 ease-out group-hover:scale-110",children:P?"".concat(P,"/").concat(V):V}),es.showDoubanLink&&E&&0!==E&&!U&&(0,a.jsx)("a",{href:Z?"https://bgm.tv/subject/".concat(E.toString()):"https://movie.douban.com/subject/".concat(E.toString()),target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"absolute top-2 left-2 opacity-0 -translate-x-2 transition-all duration-300 ease-in-out delay-100 group-hover:opacity-100 group-hover:translate-x-0",children:(0,a.jsx)("div",{className:"bg-green-500 text-white text-xs font-bold w-7 h-7 rounded-full flex items-center justify-center shadow-md hover:bg-green-600 hover:scale-[1.1] transition-all duration-300 ease-out",children:(0,a.jsx)(l.Z,{size:16})})}),M&&G&&G.length>0&&(()=>{let e=Array.from(new Set(G)),t=e.length;return(0,a.jsx)("div",{className:"absolute bottom-2 right-2 opacity-0 transition-all duration-300 ease-in-out delay-75 group-hover:opacity-100",children:(0,a.jsxs)("div",{className:"relative group/sources",children:[(0,a.jsx)("div",{className:"bg-gray-700 text-white text-xs font-bold w-6 h-6 sm:w-7 sm:h-7 rounded-full flex items-center justify-center shadow-md hover:bg-gray-600 hover:scale-[1.1] transition-all duration-300 ease-out cursor-pointer",children:t}),(()=>{let t=["爱奇艺","腾讯视频","优酷","芒果TV","哔哩哔哩","Netflix","Disney+"],r=e.sort((e,r)=>{let a=t.indexOf(e),o=t.indexOf(r);return -1!==a&&-1!==o?a-o:-1!==a?-1:-1!==o?1:e.localeCompare(r)}),o=r.slice(0,6),s=r.length>6,n=r.length-6;return(0,a.jsx)("div",{className:"absolute bottom-full mb-2 opacity-0 invisible group-hover/sources:opacity-100 group-hover/sources:visible transition-all duration-200 ease-out delay-100 pointer-events-none z-50 right-0 sm:right-0 -translate-x-0 sm:translate-x-0",children:(0,a.jsxs)("div",{className:"bg-gray-800/90 backdrop-blur-sm text-white text-xs sm:text-xs rounded-lg shadow-xl border border-white/10 p-1.5 sm:p-2 min-w-[100px] sm:min-w-[120px] max-w-[140px] sm:max-w-[200px] overflow-hidden",children:[(0,a.jsx)("div",{className:"space-y-0.5 sm:space-y-1",children:o.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[(0,a.jsx)("div",{className:"w-0.5 h-0.5 sm:w-1 sm:h-1 bg-blue-400 rounded-full flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate text-[10px] sm:text-xs leading-tight",title:e,children:e})]},t))}),s&&(0,a.jsx)("div",{className:"mt-1 sm:mt-2 pt-1 sm:pt-1.5 border-t border-gray-700/50",children:(0,a.jsx)("div",{className:"flex items-center justify-center text-gray-400",children:(0,a.jsxs)("span",{className:"text-[10px] sm:text-xs font-medium",children:["+",n," 播放源"]})})}),(0,a.jsx)("div",{className:"absolute top-full right-2 sm:right-3 w-0 h-0 border-l-[4px] border-r-[4px] border-t-[4px] sm:border-l-[6px] sm:border-r-[6px] sm:border-t-[6px] border-transparent border-t-gray-800/90"})]})})})()]})})})()]}),es.showProgress&&void 0!==C&&(0,a.jsx)("div",{className:"mt-1 h-1 w-full bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 transition-all duration-500 ease-out",style:{width:"".concat(C,"%")}})}),(0,a.jsxs)("div",{className:"mt-2 text-center",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"block text-sm font-semibold truncate text-gray-900 dark:text-gray-100 transition-colors duration-300 ease-in-out group-hover:text-green-600 dark:group-hover:text-green-400 peer",children:b}),(0,a.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-gray-800 text-white text-xs rounded-md shadow-lg opacity-0 invisible peer-hover:opacity-100 peer-hover:visible transition-all duration-200 ease-out delay-100 whitespace-nowrap pointer-events-none",children:[b,(0,a.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]}),es.showSourceName&&j&&(0,a.jsx)("span",{className:"block text-xs text-gray-500 dark:text-gray-400 mt-1",children:(0,a.jsx)("span",{className:"inline-block border rounded px-2 py-0.5 border-gray-500/60 dark:border-gray-400/60 transition-all duration-300 ease-in-out group-hover:border-green-500/60 group-hover:text-green-600 dark:group-hover:text-green-400",children:j})})]})]}),_&&(0,a.jsx)(y,{isOpen:F,onClose:()=>O(!1),title:b,poster:(0,p.a8)(v),actions:en,sources:M&&G?Array.from(new Set(G)):void 0,isAggregate:M,sourceName:j,currentEpisode:P,totalEpisodes:V})]})});var v=(0,d.memo)(f)}}]);